

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="zhengcookie">
  <meta name="keywords" content="zhengcookie,blog,个人博客,技术分享">
  
    <meta name="description" content="单位和全局可用变量以太坊（Ether） 单位一个字面常量可以带一个后缀 wei， gwei 或 ether 来指定一个以太币的数量， 其中没有后缀的以太数字被认为单位是wei。 open in Remix 123assert(1 wei &#x3D;&#x3D; 1);assert(1 gwei &#x3D;&#x3D; 1e9);assert(1 ether &#x3D;&#x3D; 1e18); 单位后缀的唯一作用是乘以10的幂次方。 备注 0.7">
<meta property="og:type" content="article">
<meta property="og:title" content="单位与全局变量">
<meta property="og:url" content="https://www.zhengcookie.site/2025/07/06/%E5%8D%95%E4%BD%8D%E4%B8%8E%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F/index.html">
<meta property="og:site_name" content="zhengcookie">
<meta property="og:description" content="单位和全局可用变量以太坊（Ether） 单位一个字面常量可以带一个后缀 wei， gwei 或 ether 来指定一个以太币的数量， 其中没有后缀的以太数字被认为单位是wei。 open in Remix 123assert(1 wei &#x3D;&#x3D; 1);assert(1 gwei &#x3D;&#x3D; 1e9);assert(1 ether &#x3D;&#x3D; 1e18); 单位后缀的唯一作用是乘以10的幂次方。 备注 0.7">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-07-06T14:46:53.000Z">
<meta property="article:modified_time" content="2025-11-06T09:11:26.239Z">
<meta property="article:author" content="zhengcookie">
<meta property="article:tag" content="区块链智能合约语法">
<meta name="twitter:card" content="summary_large_image">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>单位与全局变量 - zhengcookie</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"www.zhengcookie.site","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="zhengcookie" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>zhengcookie</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="单位与全局变量"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-07-06 22:46" pubdate>
          2025年7月6日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          3.8k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          32 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">单位与全局变量</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="单位和全局可用变量"><a href="#单位和全局可用变量" class="headerlink" title="单位和全局可用变量"></a>单位和全局可用变量<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#index-0"></a></h1><h2 id="以太坊（Ether）-单位"><a href="#以太坊（Ether）-单位" class="headerlink" title="以太坊（Ether） 单位"></a>以太坊（Ether） 单位<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#ether"></a></h2><p>一个字面常量可以带一个后缀 <code>wei</code>， <code>gwei</code> 或 <code>ether</code> 来指定一个以太币的数量， 其中没有后缀的以太数字被认为单位是wei。</p>
<p><a target="_blank" rel="noopener" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.8.24&amp;code=YXNzZXJ0KDEgd2VpID09IDEpOwphc3NlcnQoMSBnd2VpID09IDFlOSk7CmFzc2VydCgxIGV0aGVyID09IDFlMTgpOw==">open in Remix</a></p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs abnf">assert(<span class="hljs-number">1</span> wei <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-number">1</span>)<span class="hljs-comment">;</span><br>assert(<span class="hljs-number">1</span> gwei <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-number">1</span>e9)<span class="hljs-comment">;</span><br>assert(<span class="hljs-number">1</span> ether <span class="hljs-operator">=</span><span class="hljs-operator">=</span> <span class="hljs-number">1</span>e18)<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>
<p>单位后缀的唯一作用是乘以10的幂次方。</p>
<p>备注</p>
<p>0.7.0 版本中删除了 <code>finney</code> 和 <code>szabo</code> 这两个单位。</p>
<h2 id="时间单位"><a href="#时间单位" class="headerlink" title="时间单位"></a>时间单位<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#index-2"></a></h2><p>诸如 <code>seconds</code>， <code>minutes</code>， <code>hours</code>， <code>days</code> 和 <code>weeks</code> 等 后缀在字面常量后面，可以用来指定时间单位，其中秒是基本单位，单位的考虑方式很直白：</p>
<ul>
<li><code>1 == 1 seconds</code></li>
<li><code>1 minutes == 60 seconds</code></li>
<li><code>1 hours == 60 minutes</code></li>
<li><code>1 days == 24 hours</code></li>
<li><code>1 weeks == 7 days</code></li>
</ul>
<p>如果您使用这些单位进行日历计算，请注意，由于 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Leap_second">闰秒</a> 会造成不是每一年都等于365天，甚至不是每一天都有24小时，而且因为闰秒是无法预测的， 所以需要借助外部的预言机（oracle，是一种链外数据服务，译者注）来对一个确定的日期代码库进行时间矫正。</p>
<p>备注</p>
<p>由于上述原因，在 0.5.0 版本中删除了后缀 <code>years</code>。</p>
<p>这些后缀单位不能应用于变量。例如， 如果您想用时间单位（例如 days）来将输入变量换算为时间，您可以用以下方式：</p>
<p><a target="_blank" rel="noopener" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.8.24&amp;code=ZnVuY3Rpb24gZih1aW50IHN0YXJ0LCB1aW50IGRheXNBZnRlcikgcHVibGljIHsKICAgIGlmIChibG9jay50aW1lc3RhbXAgPj0gc3RhcnQgKyBkYXlzQWZ0ZXIgKiAxIGRheXMpIHsKICAgICAgICAvLyAuLi4KICAgIH0KfQ==">open in Remix</a></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function">function <span class="hljs-title">f</span>(<span class="hljs-params"><span class="hljs-built_in">uint</span> start, <span class="hljs-built_in">uint</span> daysAfter</span>) <span class="hljs-keyword">public</span></span> &#123;<br>    <span class="hljs-keyword">if</span> (block.timestamp &gt;= start + daysAfter * <span class="hljs-number">1</span> days) &#123;<br>        <span class="hljs-comment">// ...</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="特殊变量和函数"><a href="#特殊变量和函数" class="headerlink" title="特殊变量和函数"></a>特殊变量和函数<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#special-variables-functions"></a></h2><p>有一些特殊的变量和函数总是存在于全局命名空间，主要用于提供区块链的信息，或者是通用的工具函数。</p>
<h3 id="区块和交易属性"><a href="#区块和交易属性" class="headerlink" title="区块和交易属性"></a>区块和交易属性<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#index-3"></a></h3><ul>
<li><code>blockhash(uint blockNumber) returns (bytes32)</code>： 给定区块的哈希值 - 只对最近的256个区块有效</li>
<li><code>blobhash(uint index) returns (bytes32)</code>： 与当前交易相关联的第 <code>index</code> 个blob。 此带版本的哈希值是由一个表示版本的单字节（当前为 <code>0x01</code> ）和紧随其后的KZG证明的SHA256哈希的最后31个字节组成。 （ <a target="_blank" rel="noopener" href="https://eips.ethereum.org/EIPS/eip-4844">EIP-4844</a> ）。</li>
<li><code>block.basefee</code> (<code>uint</code>)： 当前区块的基本费用 （ <a target="_blank" rel="noopener" href="https://eips.ethereum.org/EIPS/eip-3198">EIP-3198</a> 和 <a target="_blank" rel="noopener" href="https://eips.ethereum.org/EIPS/eip-1559">EIP-1559</a> ）</li>
<li><code>block.blobbasefee</code> (<code>uint</code>): 当前区块的blob基础费用（ <a target="_blank" rel="noopener" href="https://eips.ethereum.org/EIPS/eip-7516">EIP-7516</a> 和 <a target="_blank" rel="noopener" href="https://eips.ethereum.org/EIPS/eip-4844">EIP-4844</a>）</li>
<li><code>block.chainid</code> (<code>uint</code>)： 当前链的ID</li>
<li><code>block.coinbase</code> (<code>address payable</code>)： 当前区块矿工的地址</li>
<li><code>block.difficulty</code> (<code>uint</code>)： 当前区块的难度值（ <code>EVM &lt; Paris</code> ）。对于其他EVM版本，它是 <code>block.prevrandao</code> 的一个废弃的别名，将在下一个重大改变版本中被删除。</li>
<li><code>block.gaslimit</code> (<code>uint</code>)： 当前区块的燃料上限</li>
<li><code>block.number</code> (<code>uint</code>)： 当前区块的区块号</li>
<li><code>block.prevrandao</code> (<code>uint</code>)： 由信标链提供的随机数（ <code>EVM &gt;= Paris</code> ）（见 <a target="_blank" rel="noopener" href="https://eips.ethereum.org/EIPS/eip-4399">EIP-4399</a> ）。</li>
<li><code>block.timestamp</code> (<code>uint</code>)： 当前区块的时间戳，自Unix epoch以来的秒数</li>
<li><code>gasleft() returns (uint256)</code>： 剩余燃料</li>
<li><code>msg.data</code> (<code>bytes</code>)： 完整的调用数据</li>
<li><code>msg.sender</code> (<code>address</code>)： 消息发送方（当前调用）</li>
<li><code>msg.sig</code> (<code>bytes4</code>)： 调用数据的前四个字节（即函数标识符）。</li>
<li><code>msg.value</code> (<code>uint</code>)： 随消息发送的 wei 的数量</li>
<li><code>tx.gasprice</code> (<code>uint</code>)： 交易的燃料价格</li>
<li><code>tx.origin</code> (<code>address</code>)： 交易发送方（完整调用链上的原始发送方）</li>
</ul>
<p>备注</p>
<p>对于每一个 <strong>外部（external）</strong> 函数调用， 包括 <code>msg.sender</code> 和 <code>msg.value</code> 在内所有 <code>msg</code> 成员的值都会变化。 这里包括对库函数的调用。</p>
<p>备注</p>
<p>当合约在链下而不是在区块中包含的交易的背景下计算时， 您不应该认为 <code>block.*</code> 和 <code>tx.*</code> 是指任何特定区块或交易的值。 这些值是由执行合约的EVM实现提供的，可以是任意的。</p>
<p>备注</p>
<p>不要依赖 <code>block.timestamp</code> 和 <code>blockhash</code> 产生随机数，除非您知道自己在做什么。</p>
<p>时间戳和区块哈希在一定程度上都可能受到挖矿矿工影响。 例如，挖矿社区中的恶意矿工可以用某个给定的哈希来运行赌场合约的支付函数， 而如果他们没收到任何奖励，例如以太币，还可以用一个不同的哈希重新尝试。</p>
<p>当前区块的时间戳必须严格大于最后一个区块的时间戳， 但这里唯一能确保的只是它会是在权威链上的两个连续区块的时间戳之间的数值。</p>
<p>备注</p>
<p>基于可扩展因素，区块哈希不是对所有区块都有效。 您仅仅可以访问最近 256 个区块的哈希，其余的哈希均为零。</p>
<p>备注</p>
<p>函数 <code>blockhash</code> 以前被称为 <code>block.blockhash</code>， 在 0.4.22 版本中被废弃，在 0.5.0 版本中被删除。</p>
<p>备注</p>
<p>函数 <code>gasleft</code> 的前身是 <code>msg.gas</code>， 在 0.4.21 版本中被弃用，在 0.5.0 版本中被删除。</p>
<p>备注</p>
<p>在 0.7.0 版本中，删除了别名 <code>now</code> （用于 <code>block.timestamp</code>）。</p>
<h3 id="ABI编码和解码函数"><a href="#ABI编码和解码函数" class="headerlink" title="ABI编码和解码函数"></a>ABI编码和解码函数<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#abi"></a></h3><ul>
<li><code>abi.decode(bytes memory encodedData, (...)) returns (...)</code>: ABI-解码给定的数据，而类型在括号中作为第二个参数给出。例如： <code>(uint a, uint[2] memory b, bytes memory c) = abi.decode(data, (uint, uint[2], bytes))</code></li>
<li><code>abi.encode(...) returns (bytes memory)</code>： 对给定的参数进行ABI编码</li>
<li><code>abi.encodePacked(...) returns (bytes memory)</code>： 对给定参数执行 <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/abi-spec.html#abi-packed-mode">紧打包编码</a>。 请注意，打包编码可能会有歧义!</li>
<li><code>abi.encodeWithSelector(bytes4 selector, ...) returns (bytes memory)</code>： ABI-对给定参数进行编码，并以给定的函数选择器作为起始的4字节数据一起返回</li>
<li><code>abi.encodeWithSignature(string memory signature, ...) returns (bytes memory)</code>： 相当于 <code>abi.encodeWithSelector(bytes4(keccak256(bytes(signature))), ...)</code></li>
<li><code>abi.encodeCall(function functionPointer, (...)) returns (bytes memory)</code>： 对 <code>函数指针</code> 的调用进行ABI编码，参数在元组中找到。执行全面的类型检查，确保类型与函数签名相符。结果相当于 <code>abi.encodeWithSelector(functionPointer.selector, (...))</code>。</li>
</ul>
<p>备注</p>
<p>这些编码函数可用于制作外部函数调用的数据，而无需实际调用外部函数。 此外， <code>keccak256(abi.encodePacked(a, b))</code> 是一种计算结构化数据的哈希值的方法 （但是要注意有可能使用不同的函数参数类型会制作出一个 “哈希碰撞”）。</p>
<p>更多详情请参考 <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/abi-spec.html#abi">ABI</a> 和 <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/abi-spec.html#abi-packed-mode">紧打包编码</a>。</p>
<h3 id="字节类型的成员"><a href="#字节类型的成员" class="headerlink" title="字节类型的成员"></a>字节类型的成员<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#index-5"></a></h3><ul>
<li><code>bytes.concat(...) returns (bytes memory)</code>: <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/types.html#bytes-concat">将可变数量的字节和byte1, …, byte32参数串联成一个字节数组</a></li>
</ul>
<h3 id="字符串的成员"><a href="#字符串的成员" class="headerlink" title="字符串的成员"></a>字符串的成员<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#index-6"></a></h3><ul>
<li><code>string.concat(...) returns (string memory)</code>: <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/types.html#string-concat">将可变数量的字符串参数串联成一个字符串数组</a></li>
</ul>
<h3 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#index-7"></a></h3><p>关于错误处理和何时使用哪个函数的更多细节， 请参见 <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/control-structures.html#assert-and-require">assert 和 require</a> 的专门章节。</p>
<ul>
<li><p><code>assert(bool condition)</code></p>
<p>如果条件不满足，会导致异常，因此，状态变化会被恢复 - 用于内部错误。</p>
</li>
<li><p><code>require(bool condition)</code></p>
<p>如果条件不满足，则恢复状态更改 - 用于输入或外部组件的错误。</p>
</li>
<li><p><code>require(bool condition, string memory message)</code></p>
<p>如果条件不满足，则恢复状态更改 - 用于输入或外部组件的错误，可以同时提供一个错误消息。</p>
</li>
<li><p><code>revert()</code></p>
<p>终止运行并恢复状态更改。</p>
</li>
<li><p><code>revert(string memory reason)</code></p>
<p>终止运行并恢复状态更改，可以同时提供一个解释性的字符串。</p>
</li>
</ul>
<h3 id="数学和密码学函数"><a href="#数学和密码学函数" class="headerlink" title="数学和密码学函数"></a>数学和密码学函数<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#mathematical-and-cryptographic-functions"></a></h3><ul>
<li><p><code>addmod(uint x, uint y, uint k) returns (uint)</code></p>
<p>计算 <code>(x + y) % k</code>，加法会在任意精度下执行，并且加法的结果即使超过 <code>2**256</code> 也不会被截取。从 0.5.0 版本的编译器开始会加入对 <code>k != 0</code> 的校验（assert）。</p>
</li>
<li><p><code>mulmod(uint x, uint y, uint k) returns (uint)</code></p>
<p>计算 <code>(x * y) % k</code>，乘法会在任意精度下执行，并且乘法的结果即使超过 <code>2**256</code> 也不会被截取。从 0.5.0 版本的编译器开始会加入对 <code>k != 0</code> 的校验（assert）。</p>
</li>
<li><p><code>keccak256(bytes memory) returns (bytes32)</code></p>
<p>计算输入的 Keccak-256 哈希值。</p>
</li>
</ul>
<p>备注</p>
<p>以前 <code>keccak256</code> 的别名叫 <code>sha3</code> ，在 0.5.0 版本中被删除。</p>
<ul>
<li><p><code>sha256(bytes memory) returns (bytes32)</code></p>
<p>计算输入的 SHA-256 哈希值。</p>
</li>
<li><p><code>ripemd160(bytes memory) returns (bytes20)</code></p>
<p>计算输入的 RIPEMD-160 哈希值。</p>
</li>
<li><p><code>ecrecover(bytes32 hash, uint8 v, bytes32 r, bytes32 s) returns (address)</code></p>
<p>利用椭圆曲线签名恢复与公钥相关的地址，错误返回零值。 函数参数对应于签名的 ECDSA 值：<code>r</code> = 签名的前32字节<code>s</code> = 签名的第二个32字节<code>v</code> = 签名的最后1个字节<code>ecrecover</code> 返回一个 <code>address</code>，而不是 <code>address payable</code>。 参见 <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/types.html#address">地址类型</a> 进行转换，以备您需要向恢复的地址转移资金。更多细节，请阅读 <a target="_blank" rel="noopener" href="https://ethereum.stackexchange.com/questions/1777/workflow-on-signing-a-string-with-private-key-followed-by-signature-verificatio">使用示例</a>.</p>
</li>
</ul>
<p>警告</p>
<p>如果您使用 <code>ecrecover</code>，请注意，一个有效的签名可以变成另一个有效的签名，而不需要知道相应的私钥。 在 Homestead 硬分叉中，这个问题对 <em>transaction</em> 签名进行了修复 （见 <a target="_blank" rel="noopener" href="https://eips.ethereum.org/EIPS/eip-2#specification">EIP-2</a>）， 但 ecrecover 函数仍然没有改变。</p>
<p>这通常不是一个问题，除非您要求签名是唯一的，或者用它们来识别个体。 OpenZeppelin 有一个 <a target="_blank" rel="noopener" href="https://docs.openzeppelin.com/contracts/4.x/api/utils#ECDSA">ECDSA 辅助库</a>， 您可以用它作为 <code>ecrecover</code> 的包装，那样就没有这个问题。</p>
<p>备注</p>
<p>当在 <em>私有区块链</em> 上运行 <code>sha256</code>， <code>ripemd160</code> 或 <code>ecrecover</code> 时，您可能会遇到燃料耗尽（Out-of-Gas）的错误。这是因为这些功能是作为 “预编译合约” 实现的，只有在它们收到第一个消息后才真正存在（尽管它们的合约代码是硬编码的）。向不存在的合约发送消息的成本较高，因此执行时可能会遇到 Out-of-Gas 错误。这个问题的一个变通方法是，在您的实际合约中使用它们之前，先向每个合约发送 Wei（例如1）。这在主网和测试网上都没有问题。</p>
<h3 id="地址类型的成员"><a href="#地址类型的成员" class="headerlink" title="地址类型的成员"></a>地址类型的成员<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#address-related"></a></h3><ul>
<li><p><code>&lt;address&gt;.balance</code> （ <code>uint256</code> ）</p>
<p>以 Wei 为单位的 <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/types.html#address">地址类型</a> 的余额。</p>
</li>
<li><p><code>&lt;address&gt;.code</code> （ <code>bytes memory</code> ）</p>
<p>在 <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/types.html#address">地址类型</a> 的代码（可以是空的）。</p>
</li>
<li><p><code>&lt;address&gt;.codehash</code> （ <code>bytes32</code> ）</p>
<p><a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/types.html#address">地址类型</a> 的代码哈希值</p>
</li>
<li><p><code>&lt;address payable&gt;.transfer(uint256 amount)</code></p>
<p>向 <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/types.html#address">地址类型</a> 发送数量为 amount 的 Wei，失败时抛出异常，发送2300燃料的矿工费，不可调节。</p>
</li>
<li><p><code>&lt;address payable&gt;.send(uint256 amount) returns (bool)</code></p>
<p>向 <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/types.html#address">地址类型</a> 发送数量为 amount 的 Wei，失败时返回 <code>false</code> 2300燃料的矿工费用，不可调节。</p>
</li>
<li><p><code>&lt;address&gt;.call(bytes memory) returns (bool, bytes memory)</code></p>
<p>用给定的数据发出低级别的 <code>CALL</code>，返回是否成功的结果和数据，发送所有可用燃料，可调节。</p>
</li>
<li><p><code>&lt;address&gt;.delegatecall(bytes memory) returns (bool, bytes memory)</code></p>
<p>用给定的数据发出低级别的 <code>DELEGATECALL</code>，返回是否成功的结果和数据，发送所有可用燃料，可调节。</p>
</li>
<li><p><code>&lt;address&gt;.staticcall(bytes memory) returns (bool, bytes memory)</code></p>
<p>用给定的数据发出低级别的 <code>STATICCALL</code>，返回是否成功的结果和数据，发送所有可用燃料，可调节。</p>
</li>
</ul>
<p>更多信息，请参见 <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/types.html#address">地址类型</a> 一节。</p>
<p>警告</p>
<p>您应该尽可能避免在执行另一个合约函数时使用 <code>.call()</code>，因为它绕过了类型检查、函数存在性检查和参数打包。</p>
<p>警告</p>
<p>使用 <code>send</code> 有很多危险：如果调用栈深度已经达到 1024（这总是可以由调用者所强制指定）， 转账会失败；并且如果接收者用光了以太燃料，转账同样会失败。为了保证以太币转账安全， 总是检查 <code>send</code> 的返回值，使用 <code>transfer</code> 或者下面更好的方式： 使用接收者可以提取以太的模式。</p>
<p>警告</p>
<p>由于 EVM 认为对一个不存在的合约的调用总是成功的， Solidity 在执行外部调用时使用 <code>extcodesize</code> 操作码进行额外的检查。 这确保了即将被调用的合约要么实际存在（它包含代码），要么就会产生一个异常。</p>
<p>对地址而不是合约实例进行低级调用 （即 <code>.call()</code>, <code>.delegatecall()</code>, <code>.staticcall()</code>, <code>.send()</code> 和 <code>.transfer()</code>） <strong>不包括</strong> 这种检查，这使得它们在燃料方面更便宜，但也更不安全。</p>
<p>备注</p>
<p>在 0.5.0 版本之前，Solidity 允许地址成员被合约实例访问，例如 <code>this.balance</code>。 现在这被禁止了，必须做一个明确的地址转换。 <code>address(this).balance</code>。</p>
<p>备注</p>
<p>如果状态变量是通过低级别的委托调用来访问的，那么两个合约的存储布局必须一致， 以便被调用的合约能够正确地通过名称来访问调用合约的存储变量。 当然，如果存储指针作为函数参数被传递的话，情况就不是这样了，就像高层库的情况一样。</p>
<p>备注</p>
<p>在 0.5.0 版本之前， <code>.call</code>, <code>.delegatecall</code> 和 <code>.staticcall</code> 只返回成功状况， 不返回数据。</p>
<p>备注</p>
<p>在 0.5.0 版本之前，有一个名为 <code>callcode</code> 的成员，其语义与 <code>delegatecall</code> 相似但略有不同。</p>
<h3 id="合约相关"><a href="#合约相关" class="headerlink" title="合约相关"></a>合约相关<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#index-10"></a></h3><ul>
<li><p><code>this</code> （当前合约类型）</p>
<p>当前合约，可以显式转换为 <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/types.html#address">地址类型</a></p>
</li>
<li><p><code>super</code></p>
<p>继承层次结构中上一级的合约</p>
</li>
<li><p><code>selfdestruct(address payable recipient)</code></p>
<p>销毁当前合约，将其资金发送到给定的 <a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/types.html#address">地址类型</a> 并结束执行。 注意， <code>selfdestruct</code> 有一些从EVM继承的特殊性：接收合约的接收函数不会被执行。合约只有在交易结束时才真正被销毁， 任何一个 <code>revert</code> 可能会 “恢复” 销毁。</p>
</li>
</ul>
<p>此外，当前合约的所有函数都可以直接调用，包括当前函数。</p>
<p>警告</p>
<p>从 0.8.18 及以上版本开始，在 Solidity 和 Yul 中使用 <code>selfdestruct</code> 将触发一个已废弃警告， 因为 <code>SELFDESTRUCT</code> 操作码最终会发生如 <a target="_blank" rel="noopener" href="https://eips.ethereum.org/EIPS/eip-6049">EIP-6049</a> 中所述的行为上的重大变化。</p>
<p>备注</p>
<p>在 0.5.0 版本之前，有一个叫做 <code>suicide</code> 的函数，其语义与 <code>selfdestruct</code> 相同。</p>
<h3 id="类型信息"><a href="#类型信息" class="headerlink" title="类型信息"></a>类型信息<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#meta-type"></a></h3><p>表达式 <code>type(X)</code> 可以用来检索关于 <code>X</code> 类型的信息。 目前，对这一功能的支持是有限的（ <code>X</code> 可以是合约类型或整数型），但在未来可能会扩展。</p>
<p>以下是合约类型 <code>C</code> 的可用属性：</p>
<ul>
<li><p><code>type(C).name</code></p>
<p>合约的名称。</p>
</li>
<li><p><code>type(C).creationCode</code></p>
<p>内存字节数组，包含合约的创建字节码。 可以在内联程序中用来建立自定义的创建程序， 特别是通过使用 <code>create2</code> 操作码。 这个属性 <strong>不能</strong> 在合约本身或任何派生合约中被访问。 它会导致字节码被包含在调用站点的字节码中，因此像这样的循环引用是不可能的。</p>
</li>
<li><p><code>type(C).runtimeCode</code></p>
<p>内存字节数组，包含合约运行时的字节码。 通常是由 <code>C</code> 的构造函数部署的代码。 如果 <code>C</code> 有一个使用内联汇编的构造函数，这可能与实际部署的字节码不同。 还要注意的是，库合约在部署时修改其运行时字节码，以防止常规调用。 与 <code>.creationCode</code> 相同的限制也适用于这个属性。</p>
</li>
</ul>
<p>除了上述属性外，以下属性对接口类型 <code>I</code> 可用：</p>
<ul>
<li><p><code>type(I).interfaceId</code></p>
<p>一个 <code>bytes4</code> 值，是包含给定接口 <code>I</code> 的 <a target="_blank" rel="noopener" href="https://eips.ethereum.org/EIPS/eip-165">EIP-165</a> 接口标识符。 这个标识符被定义为接口本身定义的所有函数选择器的 <code>XOR</code>，不包括所有继承的函数。</p>
</li>
</ul>
<p>以下属性可用于整数类型 <code>T</code>：</p>
<ul>
<li><p><code>type(T).min</code></p>
<p>类型 <code>T</code> 所能代表的最小值。</p>
</li>
<li><p><code>type(T).max</code></p>
<p>类型 <code>T</code> 所能代表的最大值。</p>
</li>
</ul>
<h2 id="保留关键词"><a href="#保留关键词" class="headerlink" title="保留关键词"></a>保留关键词<a target="_blank" rel="noopener" href="https://docs.soliditylang.org/zh-cn/latest/units-and-global-variables.html#id15"></a></h2><p>这些关键字在 Solidity 中是保留的。它们在将来可能成为语法的一部分：</p>
<p><code>after</code>， <code>alias</code>， <code>apply</code>， <code>auto</code>， <code>byte</code>， <code>case</code>， <code>copyof</code>， <code>default</code>， <code>define</code>， <code>final</code>， <code>implements</code>， <code>in</code>， <code>inline</code>， <code>let</code>， <code>macro</code>， <code>match</code>， <code>mutable</code>， <code>null</code>， <code>of</code>， <code>partial</code>， <code>promise</code>， <code>reference</code>， <code>relocatable</code>， <code>sealed</code>， <code>sizeof</code>， <code>static</code>， <code>supports</code>， <code>switch</code>， <code>typedef</code>， <code>typeof</code>， <code>var</code>。</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/" class="category-chain-item">区块链</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E8%AF%AD%E6%B3%95/" class="print-no-link">#区块链智能合约语法</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>单位与全局变量</div>
      <div>https://www.zhengcookie.site/2025/07/06/单位与全局变量/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>zhengcookie</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年7月6日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/07/08/%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E6%8E%A7%E5%88%B6%E7%BB%93%E6%9E%84/" title="表达式和控制结构">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">表达式和控制结构</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/07/06/%E7%B1%BB%E5%9E%8B/" title="类型">
                        <span class="hidden-mobile">类型</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"sTZBx4mwQ0t3yfqJB5XmuIhz-gzGzoHsz","appKey":"KJPXk2hOqDfll4hbw93yYmUc","path":"window.location.pathname","placeholder":"请在这里写下你的评论","avatar":"/img/avatar.png","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false,"enable":true,"bg":null,"visitor":false,"option":null},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
      <div class="col-lg-7 mx-auto nopadding-x-md">
        <div class="container custom mx-auto">
          
<!--aplayer--> <link rel="stylesheet" href="https://www.zhengcookie.site/js/APlayer/dist/APlayer.min.css"> <div id="aplayer"></div> <script src="https://www.zhengcookie.site/js/APlayer/dist/APlayer.min.js"></script> <script src="https://www.zhengcookie.site/js/useaplayer.js"></script>

        </div>
      </div>
    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
